<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Mines - Cassino Luxuoso</title>
  <style>
    body.dark-theme {
      background: #0a0a0f;
      color: #f5f5f5;
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      margin: 0;
    }

    header {
      background: linear-gradient(90deg, #111, #222);
      padding: 20px;
      border-bottom: 2px solid gold;
    }

    .controls {
      margin: 20px;
    }

    .controls input {
      margin: 5px;
      padding: 8px;
      border: 1px solid gold;
      border-radius: 8px;
      background: #111;
      color: #fff;
    }

    button {
      background: linear-gradient(45deg, gold, orange);
      border: none;
      padding: 10px 20px;
      border-radius: 12px;
      cursor: pointer;
      font-size: 16px;
      margin: 5px;
      transition: transform 0.2s;
    }

    button:hover {
      transform: scale(1.1);
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(5, 80px);
      grid-gap: 10px;
      justify-content: center;
      margin-top: 20px;
    }

    .cell {
      width: 80px;
      height: 80px;
      border-radius: 12px;
      background: #1a1a1a;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      transition: all 0.3s;
    }

    .cell.revealed.safe {
      background: #1e824c;
      color: #fff;
    }

    .cell.revealed.mine {
      background: crimson;
      color: #fff;
    }

    .log {
      margin-top: 30px;
      text-align: left;
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
    }
  </style>
</head>
<body class="dark-theme">
  <header>
    <h1>ðŸ’Ž Mines</h1>
    <p>Saldo: <span id="balance">1000</span> crÃ©ditos</p>
  </header>

  <section class="controls">
    <label>Valor da aposta:</label>
    <input type="number" id="bet" value="10" min="1">

    <label>Bombas:</label>
    <input type="number" id="bombs" value="5" min="1" max="20">

    <button id="startGame">ðŸŽ² Iniciar Jogo</button>
    <button id="cashOut" disabled>ðŸ’° Sacar</button>
  </section>

  <section class="grid" id="grid"></section>

  <section class="log">
    <h2>HistÃ³rico</h2>
    <ul id="log"></ul>
  </section>

  <script>
    let balance = 1000;
    let betAmount = 0;
    let mines = [];
    let revealed = [];
    let multiplier = 1;
    let gameActive = false;
    let bombsCount = 0;

    const grid = document.getElementById("grid");
    const balanceEl = document.getElementById("balance");
    const betInput = document.getElementById("bet");
    const bombsInput = document.getElementById("bombs");
    const startBtn = document.getElementById("startGame");
    const cashOutBtn = document.getElementById("cashOut");
    const logEl = document.getElementById("log");

    function log(msg) {
      const li = document.createElement("li");
      li.textContent = msg;
      logEl.prepend(li);
    }

    function startGame() {
      betAmount = parseInt(betInput.value);
      bombsCount = parseInt(bombsInput.value);

      if (betAmount > balance) {
        alert("Saldo insuficiente!");
        return;
      }

      balance -= betAmount;
      balanceEl.textContent = balance;

      mines = [];
      revealed = [];
      multiplier = 1;
      gameActive = true;
      cashOutBtn.disabled = false;

      // Gera bombas
      while (mines.length < bombsCount) {
        const pos = Math.floor(Math.random() * 25);
        if (!mines.includes(pos)) {
          mines.push(pos);
        }
      }

      // Cria grid
      grid.innerHTML = "";
      for (let i = 0; i < 25; i++) {
        const cell = document.createElement("div");
        cell.classList.add("cell");
        cell.dataset.index = i;
        cell.onclick = () => reveal(i, cell);
        grid.appendChild(cell);
      }

      log(`ðŸŽ® Novo jogo iniciado com ${bombsCount} bombas. Aposta: ${betAmount}`);
    }

    function reveal(index, cell) {
      if (!gameActive || revealed.includes(index)) return;

      revealed.push(index);

      if (mines.includes(index)) {
        cell.classList.add("revealed", "mine");
        cell.textContent = "ðŸ’£";
        log("ðŸ’¥ VocÃª perdeu!");
        gameActive = false;
        cashOutBtn.disabled = true;
      } else {
        cell.classList.add("revealed", "safe");
        cell.textContent = "ðŸ’Ž";
        multiplier += 0.2;
        log(`ðŸ’Ž Diamante encontrado! Multiplicador: x${multiplier.toFixed(2)}`);
      }
    }

    function cashOut() {
      if (!gameActive) return;
      const winnings = Math.floor(betAmount * multiplier);
      balance += winnings;
      balanceEl.textContent = balance;
      log(`ðŸ’° VocÃª sacou ${winnings} crÃ©ditos!`);
      gameActive = false;
      cashOutBtn.disabled = true;
    }

    startBtn.onclick = startGame;
    cashOutBtn.onclick = cashOut;
  </script>
</body>
</html>
